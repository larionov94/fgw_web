{{ define "roles_content" }}

<div class="d-flex justify-content-between align-items-center">
    <h1 class="h2 mb-3">{{ .Title }}</h1>
</div>
<!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —Ä–æ–ª–∏ -->
<div class="modal fade" id="addRoleModal" tabindex="-1" aria-labelledby="addRoleModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="addRoleModalLabel">–î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—É—é —Ä–æ–ª—å</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                    <div class="mb-3">
                        <label for="newRoleId" class="form-label">ID —Ä–æ–ª–∏</label>
                        <input type="number"
                               class="form-control"
                               id="newRoleId"
                               name="roleId"
                               required
                               min="1">
                        <div class="form-text">–£–Ω–∏–∫–∞–ª—å–Ω—ã–π —á–∏—Å–ª–æ–≤–æ–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä —Ä–æ–ª–∏</div>
                    </div>

                    <div class="mb-3">
                        <label for="newRoleName" class="form-label">–ù–∞–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ —Ä–æ–ª–∏</label>
                        <input type="text"
                               class="form-control"
                               id="newRoleName"
                               name="name"
                               required
                               placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä">
                    </div>

                    <div class="mb-3">
                        <label for="newRoleDescription" class="form-label">–û–ø–∏—Å–∞–Ω–∏–µ —Ä–æ–ª–∏</label>
                        <textarea class="form-control"
                                  id="newRoleDescription"
                                  name="description"
                                  rows="3"
                                  required
                                  placeholder="–ü–æ–¥—Ä–æ–±–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ —Ä–æ–ª–∏ –∏ –µ–µ –ø—Ä–∞–≤"></textarea>
                    </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">–û—Ç–º–µ–Ω–∞</button>
                <button type="button" class="btn btn-primary add-role-btn" id="saveNewRoleBtn">–î–æ–±–∞–≤–∏—Ç—å —Ä–æ–ª—å</button>
            </div>
        </div>
    </div>
</div>

<!-- –ö–Ω–æ–ø–∫–∞ –¥–ª—è –æ—Ç–∫—Ä—ã—Ç–∏—è –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞ -->
<button type="button" class="btn btn-success mb-3" data-bs-toggle="modal" data-bs-target="#addRoleModal">
    <i class="bi bi-plus-circle"></i> –î–æ–±–∞–≤–∏—Ç—å —Ä–æ–ª—å
</button>

<div class="card shadow-sm">
    <div class="card-body p-0">
        <div class="table-responsive" style="min-width: 900px;">

            <!-- –î–æ–±–∞–≤–ª—è–µ–º –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–ª—è —Å–∫—Ä–æ–ª–ª–∞ -->
            <div style="height: calc(100vh - 400px); overflow-y: auto;">
                <table class="table table-hover mb-0" style="min-width: 900px;" id="rolesTable">
                    <colgroup>
                        <col style="width: 50px;">  <!-- –¢–ù -->
                        <col style="width: 80px;"> <!-- –ù–∞–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ -->
                        <col style="width: 420px;"> <!-- –û–ø–∏—Å–∞–Ω–∏–µ -->
                        <col style="width: 140px;"> <!-- –î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è -->
                        <col style="width: 110px;"> <!-- –¢–ù –≤–ª–∞–¥–µ–ª—å—Ü–∞ -->
                        <col style="width: 70px;"> <!-- –î–∞—Ç–∞ –∏–∑–º–µ–Ω–µ–Ω–∏—è -->
                        <col style="width: 50px;">  <!--–¢–ù –≤–ª–∞–¥–µ–ª—å—Ü–∞ -->
                        <col style="width: 40px;"> <!-- –û–ø–µ—Ä–∞—Ü–∏–∏ -->
                    </colgroup>
                    {{ if .Roles }}
                    <thead>
                    <tr>
                        <th class="text-nowrap">–ò–î</th>
                        <th class="text-nowrap">–ù–∞–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ</th>
                        <th class="text-nowrap">–û–ø–∏—Å–∞–Ω–∏–µ</th>
                        <th class="text-nowrap">–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è</th>
                        <th class="text-nowrap">–¢–ù –≤–ª–∞–¥–µ–ª—å—Ü–∞</th>
                        <th class="text-nowrap">–î–∞—Ç–∞ –∏–∑–º–µ–Ω–µ–Ω–∏—è</th>
                        <th class="text-nowrap">–¢–ù –≤–ª–∞–¥–µ–ª—å—Ü–∞</th>
                        <th class="text-nowrap">–û–ø–µ—Ä–∞—Ü–∏–∏</th>
                    </tr>
                    </thead>
                    <tbody>

                    {{ range .Roles }}
                    <tr id="role-{{ .Id }}" data-id="{{ .Id }}">
                        <!-- –ò–î (–≤—Å–µ–≥–¥–∞ –≤ —Ä–µ–∂–∏–º–µ –ø—Ä–æ—Å–º–æ—Ç—Ä–∞) -->
                        <td class="fw-semibold">{{ .Id }}</td>

                        <!-- –ù–∞–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ - —Ä–µ–∂–∏–º –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ -->
                        <td class="view-mode forms-name">{{ .Name }}</td>

                        <!-- –û–ø–∏—Å–∞–Ω–∏–µ - —Ä–µ–∂–∏–º –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ -->
                        <td class="view-mode forms-desc">{{ .Desc }}</td>

                        <!-- –ù–∞–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ - —Ä–µ–∂–∏–º —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è (—Å–∫—Ä—ã—Ç) -->
                        <td class="edit-mode" style="display: none;">
                            <label style="width: 75%">
                                <input type="text"
                                       name="name"
                                       value="{{ .Name }}"
                                       class="form-control form-control-sm"
                                       data-original="{{ .Name }}"
                                       required>
                            </label>
                        </td>

                        <!-- –û–ø–∏—Å–∞–Ω–∏–µ - —Ä–µ–∂–∏–º —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è (—Å–∫—Ä—ã—Ç) -->
                        <td class="edit-mode" style="display: none;">
                            <label style="width: 95%">
                                <input type="text"
                                       name="description"
                                       value="{{ .Desc }}"
                                       class="form-control form-control-sm "
                                       data-original="{{ .Desc }}"
                                       required>
                            </label>
                        </td>

                        <!-- –î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è (–≤—Å–µ–≥–¥–∞ –≤ —Ä–µ–∂–∏–º–µ –ø—Ä–æ—Å–º–æ—Ç—Ä–∞) -->
                        <td>{{ formatDateTime .AuditRec.CreatedAt }}</td>

                        <!-- –¢–ù —Å–æ–∑–¥–∞—Ç–µ–ª—è (–≤—Å–µ–≥–¥–∞ –≤ —Ä–µ–∂–∏–º–µ –ø—Ä–æ—Å–º–æ—Ç—Ä–∞) -->
                        <td>{{ .AuditRec.CreatedBy }}</td>

                        <!-- –î–∞—Ç–∞ –∏–∑–º–µ–Ω–µ–Ω–∏—è -->
                        <td class="update-at">{{ formatDateTime .AuditRec.UpdatedAt }}</td>

                        <!-- –¢–ù —Ä–µ–¥–∞–∫—Ç–æ—Ä–∞ -->
                        <td class="update-by">{{ .AuditRec.UpdatedBy }}</td>

                        <!-- –ö–Ω–æ–ø–∫–∏ –æ–ø–µ—Ä–∞—Ü–∏–π -->
                        <td>
                            <div class="d-flex justify-content-center gap-2">
                                <!-- –ö–Ω–æ–ø–∫–∞ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è (–æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –≤ view-mode) -->
                                <button class="btn btn-sm btn-outline-primary edit-btn"
                                        title="–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å">
                                    <span>‚úèÔ∏è</span>
                                </button>

                                <button class="btn btn-sm btn-outline-primary del-btn"
                                        title="–£–¥–∞–ª–∏—Ç—å">
                                    <span>üóëÔ∏è</span>
                                </button>

                                <!-- –ö–Ω–æ–ø–∫–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è/–æ—Ç–º–µ–Ω—ã (—Å–∫—Ä—ã—Ç—ã –≤ view-mode) -->
                                <div class="edit-buttons" style="display: none;">
                                    <button class="btn btn-sm btn-success save-role-btn" title="–°–æ—Ö—Ä–∞–Ω–∏—Ç—å">
                                        <span>‚úì</span>
                                    </button>
                                    <button class="btn btn-sm btn-secondary cancel-btn" title="–û—Ç–º–µ–Ω–∞">
                                        <span>‚úó</span>
                                    </button>
                                </div>
                            </div>
                        </td>
                    </tr>
                    {{ end }}
                    </tbody>
                </table>
            </div>
        </div>

        <p style="margin-top: 20px; color: #666;">
            –í—Å–µ–≥–æ —Ä–æ–ª–µ–π: {{ len .Roles }}
        </p>
        {{ else }}
        <p style="text-align: center; color: #666; font-style: italic;">
            –ù–µ—Ç –¥–∞–Ω–Ω—ã—Ö –æ —Ä–æ–ª—è—Ö
        </p>
        {{ end }}

    </div>
</div>

{{ end }}