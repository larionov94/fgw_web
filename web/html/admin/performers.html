{{ define "performers_content" }}

<div class="container-fluid px-0">

    <div class="d-flex justify-content-between align-items-center mb-4">
        <h1 class="h3 mb-0">{{ .Title }}</h1>
    </div>

    {{if .Performers}}
    <div class="card shadow-sm">
        <div class="card-body p-0">
            <div class="table-responsive">
                <table class="table table-hover mb-0" style="table-layout: fixed; width: 100%;" id="performersTable">
                    <colgroup>
                        <col style="width: 60px;">  <!-- –¢–ù -->
                        <col style="width: 220px;"> <!-- –§–ò–û -->
                        <col style="width: 100px;"> <!-- –ö–æ–¥ –¥–æ—Å—Ç—É–ø–∞ -->
                        <col style="width: 60px;"> <!-- –ü–∞—Ä–æ–ª—å -->
                        <col style="width: 110px;"> <!-- –†–æ–ª—å Forms -->
                        <col style="width: 110px;"> <!-- –†–æ–ª—å FGW -->
                        <col style="width: 90px;">  <!-- –°—Ç–∞—Ç—É—Å -->
                        <col style="width: 120px;"> <!-- –î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è -->
                        <col style="width: 60px;">  <!-- –¢–ù –≤–ª–∞–¥–µ–ª—å—Ü–∞ (—Å–æ–∑–¥.) -->
                        <col style="width: 120px;"> <!-- –î–∞—Ç–∞ –∏–∑–º–µ–Ω–µ–Ω–∏—è -->
                        <col style="width: 60px;">  <!-- –¢–ù –≤–ª–∞–¥–µ–ª—å—Ü–∞ (–∏–∑–º.) -->
                        <col style="width: 140px;"> <!-- –û–ø–µ—Ä–∞—Ü–∏–∏ (—É–≤–µ–ª–∏—á–µ–Ω–∞ —à–∏—Ä–∏–Ω–∞) -->
                    </colgroup>
                    <thead class="table-light">
                    <tr>
                        <th class="text-nowrap">–¢–ù</th>
                        <th class="text-nowrap">–§–ò–û</th>
                        <th class="text-nowrap">–ö–æ–¥ –¥–æ—Å—Ç—É–ø–∞</th>
                        <th class="text-nowrap">–ü–∞—Ä–æ–ª—å</th>
                        <th class="text-nowrap">–†–æ–ª—å Forms</th>
                        <th class="text-nowrap">–†–æ–ª—å FGW</th>
                        <th class="text-nowrap">–°—Ç–∞—Ç—É—Å</th>
                        <th class="text-nowrap">–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è</th>
                        <th class="text-nowrap">–¢–ù<br>–≤–ª–∞–¥–µ–ª—å—Ü–∞</th>
                        <th class="text-nowrap">–î–∞—Ç–∞ –∏–∑–º–µ–Ω–µ–Ω–∏—è</th>
                        <th class="text-nowrap">–¢–ù<br>–≤–ª–∞–¥–µ–ª—å—Ü–∞</th>
                        <th class="text-nowrap text-center">–û–ø–µ—Ä–∞—Ü–∏–∏</th>
                    </tr>
                    </thead>
                    <tbody>

                    {{ range .Performers }}
                    <tr id="performer-{{ .Id }}" data-id="{{ .Id }}">
                        <td class="fw-semibold">{{ .Id }}</td>
                        <td>{{ .FIO }}</td>
                        <td>{{ .BC }}</td>
                        <td>{{ .Pass }}</td>

                        <!-- –†–æ–ª—å Forms - –æ—Ç–æ–±—Ä–∞–∂–∞–µ–º–∞—è –≤–µ—Ä—Å–∏—è -->
                        <td class="view-mode forms-role">
                            <span class="badge bg-info">
                                {{ $performer := . }}
                                {{ range $.Roles }}
                                {{ if eq .Id $performer.IdRoleAForms }}
                                {{ .Name }}
                                {{ end }}
                                {{ end }}
                            </span>
                        </td>

                        <!-- –†–æ–ª—å FGW - –æ—Ç–æ–±—Ä–∞–∂–∞–µ–º–∞—è –≤–µ—Ä—Å–∏—è -->
                        <td class="view-mode fgw-role">
                            <span class="badge bg-info">
                                {{ $performer := . }}
                                {{ range $.Roles }}
                                {{ if eq .Id $performer.IdRoleAFGW }}
                                {{ .Name }}
                                {{ end }}
                                {{ end }}
                            </span>
                        </td>

                        <!-- –†–æ–ª—å Forms - —Ä–µ–¥–∞–∫—Ç–∏—Ä—É–µ–º–∞—è –≤–µ—Ä—Å–∏—è (—Å–∫—Ä—ã—Ç–∞ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é) -->
                        <td class="edit-mode" style="display: none;">
                            <label>
                                <select class="form-select form-select-sm role-forms-select" name="idRoleAForms" data-original="{{ .IdRoleAForms }}" >
                                    {{ $performer := . }}
                                    {{ range $.Roles }}
                                    <option value="{{ .Id }}" {{ if eq .Id $performer.IdRoleAForms }}selected{{ end }}>
                                        {{ .Name }}
                                    </option>
                                    {{ end }}
                                </select>
                            </label>
                        </td>

                        <!-- –†–æ–ª—å FGW - —Ä–µ–¥–∞–∫—Ç–∏—Ä—É–µ–º–∞—è –≤–µ—Ä—Å–∏—è (—Å–∫—Ä—ã—Ç–∞ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é) -->
                        <td class="edit-mode" style="display: none;">
                            <label>
                                <select class="form-select form-select-sm role-fgw-select" name="idRoleAFGW"  data-original="{{ .IdRoleAFGW }}">
                                    {{ $performer := . }}
                                    {{ range $.Roles }}
                                    <option value="{{ .Id }}" {{ if eq .Id $performer.IdRoleAFGW }}selected{{ end }}>
                                        {{ .Name }}
                                    </option>
                                    {{ end }}
                                </select>
                            </label>
                        </td>

                        <td>
                            {{ if .Archive }}
                            <span class="badge bg-warning">–ê—Ä—Ö–∏–≤–Ω—ã–π</span>
                            {{ else }}
                            <span class="badge bg-success">–ê–∫—Ç–∏–≤–Ω—ã–π</span>
                            {{ end }}
                        </td>
                        <td>{{ formatDateTime .AuditRec.CreatedAt }}</td>
                        <td>{{ .AuditRec.CreatedBy }}</td>
                        <td class="updated-at-cell" >{{ formatDateTime .AuditRec.UpdatedAt }}</td>
                        <td class="updated-at-cell1">{{ .AuditRec.UpdatedBy }}</td>

                        <!-- –ö–Ω–æ–ø–∫–∏ –æ–ø–µ—Ä–∞—Ü–∏–π -->
                        <td>
                            <div class="d-flex justify-content-center gap-2">
                                <!-- –ö–Ω–æ–ø–∫–∞ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è (–æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –≤ view-mode) -->
                                <button class="btn btn-sm btn-outline-primary edit-btn"
                                        title="–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å"
                                        data-id="{{ .Id }}">
                                    <span>‚úèÔ∏è</span>
                                </button>

                                <!-- –ö–Ω–æ–ø–∫–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è/–æ—Ç–º–µ–Ω—ã (—Å–∫—Ä—ã—Ç—ã –≤ view-mode) -->
                                <div class="edit-buttons" style="display: none;">
                                    <button class="btn btn-sm btn-success save-btn" title="–°–æ—Ö—Ä–∞–Ω–∏—Ç—å">
                                        <span>‚úì</span>
                                    </button>
                                    <button class="btn btn-sm btn-secondary cancel-btn" title="–û—Ç–º–µ–Ω–∞">
                                        <span>‚úó</span>
                                    </button>
                                </div>
                            </div>
                        </td>
                    </tr>
                    {{ end }}
                    </tbody>
                </table>
            </div>
        </div>
    </div>

    <!-- –°–∫—Ä—ã—Ç–∞—è —Ñ–æ—Ä–º–∞ –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –¥–∞–Ω–Ω—ã—Ö -->
    <form id="updateForm" method="POST" action="/admin/performers/upd" style="display: none;">
        <input type="hidden" name="performerId" id="updatePerformerId">
        <input type="hidden" name="idRoleAForms" id="updateRoleForms">
        <input type="hidden" name="idRoleAFGW" id="updateRoleFGW">
    </form>

    {{ else }}
    <div class="text-center py-5">
        <div class="mb-3">
            <span style="font-size: 3rem;">üë•</span>
        </div>
        <h3 class="text-muted mb-3">–°–æ—Ç—Ä—É–¥–Ω–∏–∫–∏ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã</h3>
        <p class="text-muted mb-4">–î–æ–±–∞–≤—å—Ç–µ –ø–µ—Ä–≤–æ–≥–æ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞ –≤ —Å–∏—Å—Ç–µ–º—É</p>
        <button class="btn btn-primary">
            <span>+</span> –î–æ–±–∞–≤–∏—Ç—å —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞
        </button>
    </div>
    {{ end }}
</div>

{{ end }}